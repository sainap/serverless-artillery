service: target

provider:
  name: aws
  runtime: nodejs8.10

functions:
  root:
    handler: handler.handler
    events:
      - http: ANY /

  proxy:
    handler: handler.handler
    events:
      - http: ANY /{proxy+}

  reducer:
    handler: handler.reducer
    events:
      - cloudwatchLog: "/aws/lambda/target-${opt:stage, self:provider.stage, 'dev'}-root"
        filter: '"REQUEST"'
      - cloudwatchLog: "/aws/lambda/target-${opt:stage, self:provider.stage, 'dev'}-proxy"
        filter: '"REQUEST"'
